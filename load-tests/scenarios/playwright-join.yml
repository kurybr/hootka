# Cenário Playwright: Participantes navegam pela UI e entram na sala
# Testa o fluxo completo: Home -> Entrar em Sala -> Formulário -> /play
#
# Usa Chromium do Playwright (mais estável que Chrome no Mac). Pré-requisito: yarn test:load:playwright:install
# Alternativa com Chrome do sistema: playwright-join-chrome.yml
#
# Uso: node load-tests/run-with-seed.js playwright-join

config:
  target: "http://localhost:3000"
  processor: "../playwright-functions.js"
  phases:
    - name: "join via browser"
      duration: 15
      arrivalRate: 1
  engines:
    playwright: {}  # Chromium do Playwright (evita crash SIGABRT do Chrome no Mac)
  # roomCode vem do ROOM_CODE (run-with-seed.js) - não usar variável fixa

scenarios:
  - name: "Participante entra via navegador"
    engine: playwright
    testFunction: "joinRoomFlow"
